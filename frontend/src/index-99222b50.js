import{B as t}from "./index-7ba3e52d.js";customElements.define("web-carousel",class extends t{constructor(){super(),this._carouselTrack=void 0,this.index=0,this._items=[],this._nextButton=void 0,this._previousButton=void 0,this._next=this._next.bind(this),this._onClick=this._onClick.bind(this),this._onKeyup=this._onKeyup.bind(this),this._previous=this._previous.bind(this)}connectedCallback(){super.connectedCallback(),this._carouselTrack=this.querySelector("div.carousel__track"),this._carouselTrack.firstElementChild&&(this._items=[...this._carouselTrack.children],this._previousButton=this.querySelector('button[data-direction="prev"]'),this._previousButton.addEventListener("click",this._previous),this._nextButton=this.querySelector('button[data-direction="next"]'),this._nextButton.addEventListener("click",this._next),this._carouselTrack.addEventListener("click",this._onClick),this._carouselTrack.addEventListener("keyup",this._onKeyup))}disconnectedCallback(){super.disconnectedCallback(),this._previousButton?.removeEventListener("click",this._previous),this._nextButton?.removeEventListener("click",this._next),this._carouselTrack?.addEventListener("click",this._onClick),this._carouselTrack?.removeEventListener("keyup",this._onKeyup)}_next(){this._scroll(!0)}_onClick(t){let e=t.target,s=!0;do{if("A"===e.tagName)return;s=!(e.parentElement===this._carouselTrack),s&&(e=e.parentElement)}while(s);const i=this._items.findIndex((t=>t===e));this._setIndex(i-this.index)}_onKeyup(t){switch(t.key){case"ArrowLeft":return this._setIndex(-1);case"ArrowRight":return this._setIndex(1)}}_previous(){this._scroll(!1)}_scroll(t=!0){for(let e=0; e<this._items.length; e++){const s=this._items[e],i=this._carouselTrack.parentElement.clientWidth-this._carouselTrack.clientWidth;if(this._carouselTrack.scrollLeft+i<=s.offsetLeft+s.offsetWidth){let s=e+(t?1:-1);s<0?s=0:s>=this._items.length&&(s=this._items.length-1);const i=this._items[s];return this._carouselTrack.scrollTo(i.offsetLeft,0)}}}_setIndex(t){this.index=this.index+t,this.index<0?this.index=0:this.index>=this._items.length&&(this.index=this._items.length-1);const e=this._items[this.index];e.focus({preventScroll:!0}),this._carouselTrack.scrollTo(e.offsetLeft,0)}});
